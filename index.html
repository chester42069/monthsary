<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Happy Monthsary Baby!</title>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@300;500&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <style>
    /* RESET & BASIC SETUP */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(-45deg, #ff9a9e, #fad0c4, #fad0c4, #a18cd1);
      background-size: 400% 400%;
      animation: gradientBG 15s ease infinite;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow-x: hidden;
      position: relative;
      padding: 20px;
    }

    @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .bg-heart {
      position: absolute;
      color: rgba(255, 255, 255, 0.3);
      font-size: 2rem;
      animation: floatUp linear infinite;
      bottom: -10vh;
      z-index: 0;
    }

    @keyframes floatUp {
      0% { transform: translateY(0) rotate(0deg); opacity: 1; }
      100% { transform: translateY(-120vh) rotate(360deg); opacity: 0; }
    }

    /* FIXED CARD HEIGHT & SCROLLING ISSUES */
    .card {
      background: rgba(255, 255, 255, 0.25);
      backdrop-filter: blur(15px);
      -webkit-backdrop-filter: blur(15px);
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
      border: 1px solid rgba(255, 255, 255, 0.18);
      text-align: center;
      max-width: 450px;
      width: 100%;
      z-index: 10;
      animation: fadeIn 1s ease-out forwards;
      display: flex;
      flex-direction: column;
      height: auto;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    h1 {
      font-family: 'Dancing Script', cursive;
      color: #fff;
      font-size: 2.8rem;
      margin-bottom: 10px;
    }

    #timer {
        font-size: 0.85rem;
        font-weight: 500; 
        color: #fff;
        background: rgba(255, 255, 255, 0.2);
        padding: 5px 12px;
        border-radius: 15px;
        display: inline-block;
        margin-bottom: 20px;
        border: 1px solid rgba(255,255,255,0.3);
    }

    .photo-frame {
      width: 110px;
      height: 110px;
      margin: 0 auto 15px;
      border-radius: 50%;
      border: 4px solid rgba(255,255,255,0.5);
      overflow: hidden;
      flex-shrink: 0;
    }
    
    .photo-frame img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    button {
      padding: 12px 25px;
      font-size: 1rem;
      border: none;
      border-radius: 50px;
      background: white;
      color: #ff758c;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      font-family: 'Poppins', sans-serif;
    }

    button:hover {
      transform: scale(1.05);
      box-shadow: 0 8px 25px rgba(0,0,0,0.2);
    }

    #hidden-message {
      display: none;
      margin-top: 15px;
      flex-direction: column;
      justify-content: space-between;
      min-height: 180px; /* Reserves space so the card doesn't jump too much */
    }

    .love-note {
      font-size: 0.95rem;
      color: #fff;
      line-height: 1.6;
      text-align: left;
      margin-bottom: 20px;
      font-weight: 300;
    }

    .nav-buttons {
      display: flex;
      justify-content: space-between;
      gap: 10px;
      margin-top: auto;
    }

    .nav-btn {
      font-size: 0.8rem;
      padding: 8px 18px;
    }

    @media (max-width: 480px) {
        h1 { font-size: 2.2rem; }
        .card { padding: 20px; }
        .love-note { font-size: 0.9rem; }
    }
  </style>
</head>
<body>

  <div id="heart-container"></div>

  <div class="card" id="main-card">
    <h1>Happy Monthsary Baby!</h1>
    
    <div class="photo-frame">
      <img src="https://raw.githubusercontent.com/chester42069/monthsary/main/nez.jpg" alt="Nez Photo">
    </div>

    <div id="timer">Loading our time...</div>

    <div id="initial-content">
        <p style="color: white; margin-bottom: 20px;">I have something to tell you...</p>
        <button onclick="revealMessage()">Open Letter üíå</button>
    </div>

    <div id="hidden-message">
      <p class="love-note" id="note-text"></p>
      <div class="nav-buttons">
        <button id="prevBtn" class="nav-btn" onclick="changePage(-1)">Back</button>
        <button id="nextBtn" class="nav-btn" onclick="changePage(1)">Next</button>
      </div>
    </div>
  </div>

  <script>
    const startDate = new Date(2026, 0, 7); 
    let typewriterTimeout; // Variable to track the active typing effect

    const messagePages = [
        "Happy 1st monthsary, baby! Honestly, hindi ko talaga akalain na aabot tayo sa ganito. Alam mo naman na hindi ako sanay sa LDR di ba?",
        "Isipin mo, nagkakilala lang tayo sa rb, bihira pa tayo maglaro noon, pero look at us now, mahal na mahal na kita. Who would‚Äôve thought na sa paglalaro ko lang pala makikilala yung taong magpapasaya sa akin nang ganito?",
        "Kahit hindi pa tayo nagkakasama nang personal, iba yung impact mo sa buhay ko. Alam ko naman na hindi madali tong situation natin. Malayo tayo sa isa‚Äôt isa and screen lang ang pagitan.",
        "Pero gusto ko lang malaman mo na kahit ganito, sobrang totoo ng nararamdaman ko sayo. Hindi to biro, baby. I‚Äôm not looking for anyone else kasi ikaw lang talaga yung love, want, and need ko.",
        "Dati, hindi talaga ako sanay sa calls, pero ngayon? Every call, every message, and every game natin together sobrang precious sa akin lahat yun.",
        "Sorry din kung minsan hindi ko masyadong ma-express yung love ko sa paraang ginagawa ko ngayon. Pero promise, mas gagalingan ko pa at mas mag eeffort ako para hindi ka magsawa o iwan ako...",
        "Kasi ayokong ayoko na mawala ka pa sa akin. Kahit sa screen lang kita nakikita at naririnig, pinaramdam mo sa akin yung love and saya na hindi ko inexpect na posible pala.",
        "Thank you kasi dumating ka sa buhay ko at thank you sa time na binibigay mo kahit ang layo natin. Thank you for giving me a second chance and for always understanding me.",
        "Ready akong mag wait hanggang sa araw na magkita na tayo, alam ko na worth it lahat to. Babawi talaga ako sayo baby. Happy 1st monthsary ulit! Akin ka lang and sayo lang ako. I love you so much! ‚ù§Ô∏è"
    ];

    let currentPage = 0;

    function updateTimer() {
        const now = new Date();
        const diff = now - startDate;
        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
        const minutes = Math.floor((diff / 1000 / 60) % 60);
        const seconds = Math.floor((diff / 1000) % 60);
        document.getElementById('timer').innerText = `${days} Days, ${hours} Hours, ${minutes} Mins together`;
    }
    setInterval(updateTimer, 1000);
    updateTimer();

    function createHearts() {
        const container = document.getElementById('heart-container');
        for(let i=0; i<15; i++) {
            const heart = document.createElement('div');
            heart.classList.add('bg-heart');
            heart.innerHTML = '‚ù§';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = Math.random() * 3 + 4 + 's';
            heart.style.opacity = Math.random();
            container.appendChild(heart);
        }
    }
    createHearts();

    function revealMessage() {
        document.getElementById('initial-content').style.display = 'none';
        document.getElementById('hidden-message').style.display = 'flex';
        triggerConfetti();
        displayPage();
    }

    function displayPage() {
        const noteElement = document.getElementById('note-text');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        
        // STOP THE OLD TYPEWRITER: This prevents the scrambling/overlapping text
        clearTimeout(typewriterTimeout);

        prevBtn.style.visibility = currentPage === 0 ? "hidden" : "visible";
        nextBtn.innerText = currentPage === messagePages.length - 1 ? "Next" : "Next";

        let i = 0;
        noteElement.innerHTML = ""; // Clear existing text immediately
        const text = messagePages[currentPage];
        
        function typeWriter() {
            if (i < text.length) {
                noteElement.innerHTML += text.charAt(i);
                i++;
                // Save the timeout ID so we can cancel it later
                typewriterTimeout = setTimeout(typeWriter, 40); 
            }
        }
        typeWriter();
    }

    function changePage(step) {
        currentPage += step;
        if (currentPage >= messagePages.length) {
            triggerConfetti();
            document.getElementById('hidden-message').innerHTML = "<h2 style='color:white; font-family:Dancing Script; font-size:2rem; margin-top:20px;'>I love you forever! <br> See you soon, baby! üíã</h2>";
            return;
        }
        displayPage();
    }

    function triggerConfetti() {
      confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 }, colors: ['#ffffff', '#ff758c', '#ffadad'] });
    }
  </script>
</body>
</html>

