<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Happy Monthsary Baby! ‚ù§Ô∏è</title>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <style>
    /* --- RESET & VARS --- */
    :root {
      --primary: #ff758c;
      --secondary: #ff7eb3;
      --accent: #a18cd1;
      --glass-border: rgba(255, 255, 255, 0.6);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Poppins', sans-serif;
      background: #f0f2f5;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      position: relative;
    }

    /* --- ANIMATED BACKGROUND BLOBS --- */
    .blob {
      position: absolute;
      filter: blur(80px);
      z-index: 0;
      opacity: 0.8;
      animation: floatBlob 10s infinite alternate ease-in-out;
    }
    .blob-1 { top: -10%; left: -10%; width: 500px; height: 500px; background: #ff9a9e; animation-delay: 0s; }
    .blob-2 { bottom: -10%; right: -10%; width: 400px; height: 400px; background: #a18cd1; animation-delay: -2s; }
    .blob-3 { bottom: 20%; left: 20%; width: 300px; height: 300px; background: #fad0c4; animation-delay: -4s; }

    @keyframes floatBlob {
      0% { transform: translate(0, 0) scale(1); }
      100% { transform: translate(30px, 50px) scale(1.1); }
    }

    /* --- FLOATING HEARTS BG --- */
    .bg-heart {
      position: absolute;
      color: rgba(255, 255, 255, 0.6);
      font-size: 1.5rem;
      animation: floatUp linear infinite;
      bottom: -10vh;
      z-index: 1;
    }
    @keyframes floatUp {
      0% { transform: translateY(0) rotate(0deg); opacity: 0; }
      20% { opacity: 0.8; }
      100% { transform: translateY(-120vh) rotate(360deg); opacity: 0; }
    }

    /* --- GLASS CARD --- */
    .card {
      position: relative;
      z-index: 10;
      background: rgba(255, 255, 255, 0.3); /* Made slightly more opaque */
      backdrop-filter: blur(25px);
      -webkit-backdrop-filter: blur(25px);
      border: 1px solid var(--glass-border);
      border-radius: 30px;
      padding: 40px;
      width: 90%;
      max-width: 480px;
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.1);
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
      animation: zoomIn 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
    }

    @keyframes zoomIn {
      from { transform: scale(0.9); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    /* --- TYPOGRAPHY --- */
    h1 {
      font-family: 'Dancing Script', cursive;
      font-size: 3rem;
      /* Changed to a solid deep pink for better visibility */
      color: #ff5e78;
      margin-bottom: 20px;
      text-shadow: 2px 2px 0px rgba(255,255,255,0.5);
    }

    /* --- PHOTO FRAME --- */
    .frame-wrapper {
      position: relative;
      width: 140px;
      height: 140px;
      margin-bottom: 25px;
    }

    .photo-frame {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      border: 4px solid rgba(255,255,255,0.9);
      overflow: hidden;
      position: relative;
      z-index: 2;
      box-shadow: 0 10px 25px rgba(255, 117, 140, 0.5);
      background: #fff; 
    }
    
    .photo-frame img { 
      width: 100%; 
      height: 100%; 
      object-fit: cover; 
      transition: opacity 0.4s ease-in-out;
      opacity: 1;
    }

    .fade-out { opacity: 0 !important; }

    .frame-wrapper::before {
      content: '';
      position: absolute;
      top: -8px; left: -8px; right: -8px; bottom: -8px;
      border-radius: 50%;
      background: conic-gradient(from 0deg, transparent, rgba(255,255,255,0.8), transparent);
      animation: spin 4s linear infinite;
      z-index: 1;
    }

    @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

    /* --- DASHBOARD TIMER --- */
    .timer-container {
      display: flex;
      gap: 10px;
      justify-content: center;
      margin-bottom: 25px;
      width: 100%;
    }

    .time-box {
      background: rgba(255, 255, 255, 0.4);
      padding: 10px;
      border-radius: 12px;
      min-width: 65px;
      border: 1px solid rgba(255,255,255,0.5);
      display: flex;
      flex-direction: column;
      align-items: center;
      box-shadow: 0 4px 10px rgba(0,0,0,0.05);
    }

    /* Darker color for timer text */
    .time-val { font-weight: 700; font-size: 1.2rem; color: #5a3e46; line-height: 1; }
    .time-label { font-size: 0.65rem; color: #7a5c66; margin-top: 4px; text-transform: uppercase; letter-spacing: 1px; }

    /* --- CONTROLS --- */
    .music-container {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      margin-bottom: 25px;
    }

    .audio-visualizer {
      display: none;
      align-items: flex-end;
      gap: 3px;
      height: 20px;
    }
    .bar {
      width: 4px;
      background: #ff758c; /* Pink bars */
      border-radius: 2px;
      animation: bounce 0.5s infinite ease-in-out alternate;
    }
    .bar:nth-child(1) { height: 60%; animation-delay: 0.1s; }
    .bar:nth-child(2) { height: 100%; animation-delay: 0.2s; }
    .bar:nth-child(3) { height: 50%; animation-delay: 0.3s; }
    @keyframes bounce { 0% { height: 30%; } 100% { height: 100%; } }

    button {
      padding: 12px 24px;
      font-size: 0.95rem;
      border: none;
      border-radius: 50px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(255, 117, 140, 0.4);
      font-weight: 600;
      letter-spacing: 0.5px;
    }

    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(255, 117, 140, 0.6);
    }
    
    #musicBtn {
      background: #fff;
      color: var(--primary);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    /* --- CONTENT AREA --- */
    .message-area {
      width: 100%;
      min-height: 160px;
      position: relative;
    }

    /* UPDATED FOR VISIBILITY */
    .love-note {
      background: rgba(255, 255, 255, 0.6); /* Lighter background */
      padding: 20px;
      border-radius: 15px;
      color: #4a3b42; /* Dark text for readability */
      font-size: 1rem;
      line-height: 1.6;
      text-align: left;
      border-left: 5px solid var(--primary); /* Strong pink border */
      margin-bottom: 20px;
      min-height: 140px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.05);
      font-weight: 500;
    }

    .intro-text {
      color: #5a3e46; /* Darker intro text */
      margin-bottom: 20px;
      font-size: 1.1rem;
      font-weight: 500;
    }

    #hidden-message { display: none; flex-direction: column; }
    
    .nav-buttons {
      display: flex;
      justify-content: space-between;
      margin-top: 10px;
    }
    
    .nav-btn {
      background: #fff;
      color: var(--primary);
      font-size: 0.85rem;
      padding: 10px 20px;
      border: none;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .nav-btn:hover { background: #fff0f5; }

    @media (max-width: 480px) {
      h1 { font-size: 2.5rem; }
      .card { padding: 30px 20px; }
      .time-box { min-width: 55px; }
    }
  </style>
</head>
<body>

  <div class="blob blob-1"></div>
  <div class="blob blob-2"></div>
  <div class="blob blob-3"></div>
  
  <div id="heart-container"></div>

  <audio id="bgMusic" loop>
    <source src="https://raw.githubusercontent.com/chester42069/monthsary/main/Lemonade%20(Ukulele%20Version).mp3" type="audio/mpeg">
  </audio>

  <div class="card">
    <h1>Happy 1st Monthsary!</h1>
    
    <div class="frame-wrapper">
      <div class="photo-frame">
        <img id="main-photo" src="https://raw.githubusercontent.com/chester42069/monthsary/main/nez.jpg" alt="Nez Photo">
      </div>
    </div>

    <div class="timer-container" id="timer-grid">
      <div class="time-box"><span class="time-val" id="days">0</span><span class="time-label">Days</span></div>
      <div class="time-box"><span class="time-val" id="hours">0</span><span class="time-label">Hrs</span></div>
      <div class="time-box"><span class="time-val" id="mins">0</span><span class="time-label">Mins</span></div>
      <div class="time-box"><span class="time-val" id="secs">0</span><span class="time-label">Secs</span></div>
    </div>

    <div class="music-container">
      <button id="musicBtn" onclick="toggleMusic()">
        <span>üéµ Play Song</span>
      </button>
      <div class="audio-visualizer" id="visualizer">
        <div class="bar"></div><div class="bar"></div><div class="bar"></div>
      </div>
    </div>

    <div class="message-area">
      <div id="initial-content">
        <p class="intro-text">I have something special to tell you...</p>
        <button onclick="revealMessage()">üíå Open Letter</button>
      </div>

      <div id="hidden-message">
        <div id="note-text" class="love-note"></div>
        <div class="nav-buttons">
          <button id="prevBtn" class="nav-btn" onclick="changePage(-1)">Back</button>
          <button id="nextBtn" class="nav-btn" onclick="changePage(1)">Next</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    const startDate = new Date(2026, 0, 7); 
    let typewriterTimeout; 

    const messagePages = [
        "Happy 1st monthsary baby! ‚ù§Ô∏è Honestly, hindi ko talaga akalain na aabot tayo sa ganito. Alam mo naman na hindi ako sanay sa LDR di ba?",
        "Isipin mo, nagkakilala lang tayo sa RB, bihira pa tayo maglaro noon, pero look at us now, mahal na mahal na kita. Who would‚Äôve thought na sa paglalaro ko lang pala makikilala yung taong magpapasaya sa akin nang ganito?",
        "Kahit hindi pa tayo nagkakasama nang personal, iba yung impact mo sa buhay ko. Alam ko naman na hindi madali tong situation natin. Malayo tayo sa isa‚Äôt isa and screen lang ang pagitan.",
        "Pero gusto ko lang malaman mo na kahit ganito, sobrang totoo ng nararamdaman ko sayo. Hindi to biro, baby. I‚Äôm not looking for anyone else kasi ikaw lang talaga yung love, want, and need ko.",
        "Dati, hindi talaga ako sanay sa calls, pero ngayon? Every call, every message, and every game natin together sobrang precious sa akin lahat yun.",
        "Sorry din kung minsan hindi ko masyadong ma-express yung love ko sa paraang ginagawa ko ngayon. Pero promise, mas gagalingan ko pa at mas mag eeffort ako para hindi ka magsawa o iwan ako...",
        "Kasi ayokong ayoko na mawala ka pa sa akin. Kahit sa screen lang kita nakikita at naririnig, pinaramdam mo sa akin yung love and saya na hindi ko inexpect na posible pala.",
        "Thank you kasi dumating ka sa buhay ko at thank you sa time na binibigay mo kahit ang layo natin. Thank you for giving me a second chance and for always understanding me.",
        "Ready akong mag wait hanggang sa araw na magkita na tayo, alam ko na worth it lahat to. Babawi talaga ako sayo baby. Happy 1st monthsary ulit! Akin ka lang and sayo lang ako. I love you so much! ‚ù§Ô∏è"
    ];

    // --- YOUR PHOTOS HERE ---
    // If a photo fails to load (wrong link), it will just show the broken image icon
    const photos = [
        "https://raw.githubusercontent.com/chester42069/monthsary/main/nez.jpg", 
        "https://raw.githubusercontent.com/chester42069/monthsary/main/nez2.jpg",  
        "https://raw.githubusercontent.com/chester42069/monthsary/main/nez3.jpg", 
        "https://raw.githubusercontent.com/chester42069/monthsary/main/nez4.jpg",        
        "https://raw.githubusercontent.com/chester42069/monthsary/main/nez5.jpg",        
        "https://raw.githubusercontent.com/chester42069/monthsary/main/nez6.jpg"
    ];

    let currentPage = 0;

    // --- MUSIC LOGIC ---
    const music = document.getElementById('bgMusic');
    const musicBtn = document.getElementById('musicBtn');
    const visualizer = document.getElementById('visualizer');
    let isPlaying = false;

    function toggleMusic() {
        if (isPlaying) {
            music.pause();
            musicBtn.innerHTML = "<span>üéµ Play Our Song</span>";
            visualizer.style.display = 'none';
        } else {
            music.play();
            musicBtn.innerHTML = "<span>‚è∏ Pause</span>";
            visualizer.style.display = 'flex';
        }
        isPlaying = !isPlaying;
    }

    // --- TIMER LOGIC ---
    function updateTimer() {
        const now = new Date();
        const diff = now - startDate;
        const d = Math.floor(diff / (1000 * 60 * 60 * 24));
        const h = Math.floor((diff / (1000 * 60 * 60)) % 24);
        const m = Math.floor((diff / 1000 / 60) % 60);
        const s = Math.floor((diff / 1000) % 60);

        document.getElementById('days').innerText = d;
        document.getElementById('hours').innerText = h;
        document.getElementById('mins').innerText = m;
        document.getElementById('secs').innerText = s;
    }
    setInterval(updateTimer, 1000);
    updateTimer();

    // --- HEARTS ---
    function createHearts() {
        const container = document.getElementById('heart-container');
        const symbols = ['‚ù§', '‚ú®', 'üß∏', 'üíå', 'üå∏']; 
        
        for(let i=0; i<25; i++) {
            const heart = document.createElement('div');
            heart.classList.add('bg-heart');
            heart.innerHTML = symbols[Math.floor(Math.random() * symbols.length)];
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = Math.random() * 5 + 6 + 's'; 
            heart.style.animationDelay = Math.random() * 5 + 's';
            container.appendChild(heart);
        }
    }
    createHearts();

    // --- DISPLAY LOGIC ---
    function revealMessage() {
        document.getElementById('initial-content').style.display = 'none';
        document.getElementById('hidden-message').style.display = 'flex';
        confetti({ particleCount: 150, spread: 80, origin: { y: 0.6 }, colors: ['#ff758c', '#ffffff', '#ffadad'] });
        displayPage();
    }

    function displayPage() {
        const noteElement = document.getElementById('note-text');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const mainPhoto = document.getElementById('main-photo');
        
        clearTimeout(typewriterTimeout);

        prevBtn.style.visibility = currentPage === 0 ? "hidden" : "visible";
        nextBtn.innerText = currentPage === messagePages.length - 1 ? "Finish" : "Next";

        // 1. Text Animation
        noteElement.innerHTML = ""; 
        let i = 0;
        const text = messagePages[currentPage];
        
        function typeWriter() {
            if (i < text.length) {
                noteElement.innerHTML += text.charAt(i);
                i++;
                typewriterTimeout = setTimeout(typeWriter, 25); 
            }
        }
        typeWriter();

        // 2. Image Swap Logic
        const photoIndex = currentPage % photos.length;
        const newSrc = photos[photoIndex];

        // Start fade out
        mainPhoto.classList.add('fade-out');

        // Swap after short delay
        setTimeout(() => {
            mainPhoto.src = newSrc;
            
            // Define what happens when image loads (Show it)
            mainPhoto.onload = () => {
                mainPhoto.classList.remove('fade-out');
            };

            // SAFETY FIX: If image fails to load, show it anyway (so it doesn't stay invisible)
            mainPhoto.onerror = () => {
                mainPhoto.classList.remove('fade-out');
            };
            
        }, 300);
    }

    function changePage(step) {
        currentPage += step;
        if (currentPage >= messagePages.length) {
            fireMassiveConfetti();
            document.getElementById('hidden-message').innerHTML = `
                <div style="animation: zoomIn 0.5s forwards; text-align: center;">
                    <h2 style='color:#ff5e78; font-family:Dancing Script; font-size:2.8rem; margin-top:10px;'>I love you forever! ‚ù§Ô∏è</h2>
                    <p style="color:#5a3e46; margin-top: 10px; font-size: 1.1rem;">See you soon, baby! üíã</p>
                    <div style="font-size:3rem; margin-top: 15px;">üíë</div>
                </div>`;
            return;
        }
        displayPage();
    }

    function fireMassiveConfetti() {
        var duration = 3000;
        var end = Date.now() + duration;

        (function frame() {
            confetti({ particleCount: 5, angle: 60, spread: 55, origin: { x: 0 }, colors: ['#ff758c', '#ffadad'] });
            confetti({ particleCount: 5, angle: 120, spread: 55, origin: { x: 1 }, colors: ['#ffffff', '#ff99ac'] });
            if (Date.now() < end) {
                requestAnimationFrame(frame);
            }
        }());
    }
  </script>
</body>
</html>


